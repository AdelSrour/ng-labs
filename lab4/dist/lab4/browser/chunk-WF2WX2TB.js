import{a as j,b as I,c as A,e as R,j as z,l as L}from"./chunk-TJNLQOI3.js";import{$a as u,Da as M,K as v,Ka as O,La as y,Ma as S,Na as w,Oa as n,P as h,Pa as r,Qa as s,Ua as l,Va as k,Wa as E,Xa as o,Ya as m,Za as g,ab as f,na as x,oa as C,qa as a,ua as _,za as P}from"./chunk-QK76T7FY.js";var d=class i{constructor(e){this.http=e}apiLink="https://ecommerce.routemisr.com";getAllProducts(e){return this.http.get(`${this.apiLink}/api/v1/products?page=${e}`)}static \u0275fac=function(t){return new(t||i)(h(R))};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})};var F=(i,e)=>e._id;function B(i,e){if(i&1&&(n(0,"div",12)(1,"div",13)(2,"div",14),o(3),u(4,"number"),r(),n(5,"div",15),s(6,"img",16),n(7,"button",17),s(8,"i",18),r()(),n(9,"div",19)(10,"div",20),s(11,"span",21),n(12,"span",22),o(13),r()(),n(14,"h3",23),o(15),r(),n(16,"div",24)(17,"span",25),o(18),u(19,"currency"),r(),n(20,"span",26),o(21,"$129.99"),r()(),n(22,"button",27),s(23,"i",28),o(24," Add to Cart "),r()()()()),i&2){let t=e.$implicit,c=l(2);a(),E("routerLink","['/product/",t._id,"']"),a(2),g("",f(4,8,t.sold)," Sold"),a(3),k("src",t.images[0],C),a(5),O("innerHTML",c.getStarRating(t.ratingsAverage),x),a(2),g("(",t.ratingsAverage,")"),a(2),m(t.title),a(3),m(f(19,10,t.price))}}function N(i,e){if(i&1&&S(0,B,25,12,"div",12,F),i&2){let t=l();w(t.products.data)}}function Q(i,e){i&1&&(n(0,"div",4)(1,"div",29)(2,"span",30),o(3,"Loading..."),r()(),n(4,"h4",31),o(5,"Loading..."),r()())}var H=class i{constructor(e){this.api=e}page=1;products;ngOnInit(){this.api.getAllProducts(this.page).subscribe({next:e=>this.products=e,error:e=>console.error("Error:",e)})}getStarRating(e){let t="",c=Math.floor(e),b=e%1>=.5;for(let p=0;p<c;p++)t+='<i class="fas fa-star"></i>';b&&(t+='<i class="fas fa-star-half-alt"></i>');let T=5-c-(b?1:0);for(let p=0;p<T;p++)t+='<i class="far fa-star"></i>';return t}static \u0275fac=function(t){return new(t||i)(_(d))};static \u0275cmp=P({type:i,selectors:[["app-store"]],decls:18,vars:1,consts:[[1,"shop-container"],[1,"shop-header"],[1,"shop-title"],[1,"row","g-4"],[1,"text-center","w-100","mt-5","mb-2"],[1,"pagination"],[1,"page-nav","disabled"],[1,"fas","fa-chevron-left"],[1,"page-number","active"],[1,"page-number"],[1,"page-nav"],[1,"fas","fa-chevron-right"],[1,"col-6","col-md-4","col-lg-3"],[1,"product-card","h-100",3,"routerLink"],[1,"product-badge"],[1,"product-img-container"],["alt","Product Image",1,"product-img",3,"src"],[1,"btn-wishlist"],[1,"far","fa-heart"],[1,"product-info"],[1,"product-rating"],[3,"innerHTML"],[1,"rating-count"],[1,"product-title"],[1,"product-price"],[1,"current-price"],[1,"original-price"],[1,"btn-add-to-cart"],[1,"fas","fa-shopping-cart"],["role","status",1,"spinner-border","spinner"],[1,"visually-hidden"],[1,"mt-3"]],template:function(t,c){t&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),o(3,"Our Store"),r()(),n(4,"div",3),M(5,N,2,0)(6,Q,6,0,"div",4),r(),n(7,"div",5)(8,"button",6),s(9,"i",7),r(),n(10,"button",8),o(11,"1"),r(),n(12,"button",9),o(13,"2"),r(),n(14,"button",9),o(15,"3"),r(),n(16,"button",10),s(17,"i",11),r()()()),t&2&&(a(5),y(c.products&&c.products.data?5:6))},dependencies:[A,j,I,L,z],styles:[".shop-container[_ngcontent-%COMP%]{padding:2rem 0;color:var(--light-text)}.shop-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.shop-title[_ngcontent-%COMP%]{color:var(--lighter-text);margin:0}.shop-controls[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.btn-filter[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:var(--light-text);padding:.5rem 1rem}.search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1rem;color:var(--muted-text)}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:.5rem 1rem .5rem 2.5rem;color:#fff;width:200px}.product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:2rem;margin-bottom:2rem}.product-card[_ngcontent-%COMP%]{cursor:pointer;background:var(--darker-bg);border-radius:12px;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;position:relative}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.product-badge[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;background:var(--primary-accent);color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;z-index:2}.product-img-container[_ngcontent-%COMP%]{position:relative;padding-top:75%;overflow:hidden}.product-img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.product-card[_ngcontent-%COMP%]:hover   .product-img[_ngcontent-%COMP%]{transform:scale(1.05)}.btn-wishlist[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:#00000080;border:none;width:36px;height:36px;border-radius:50%;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:2;transition:all .3s ease}.btn-wishlist[_ngcontent-%COMP%]:hover{background:var(--primary-accent)}.btn-wishlist.active[_ngcontent-%COMP%]{background:var(--primary-accent);color:#fff}.product-info[_ngcontent-%COMP%]{padding:1.5rem}.product-rating[_ngcontent-%COMP%]{color:gold;margin-bottom:.5rem;display:flex;align-items:center;gap:.25rem}.rating-count[_ngcontent-%COMP%]{color:var(--muted-text);font-size:.875rem;margin-left:.3rem}.product-title[_ngcontent-%COMP%]{color:var(--lighter-text);margin:.5rem 0;font-size:1.1rem;font-weight:600}.product-price[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin:1rem 0}.current-price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--lighter-text)}.original-price[_ngcontent-%COMP%]{font-size:.875rem;text-decoration:line-through;color:var(--muted-text)}.btn-add-to-cart[_ngcontent-%COMP%]{width:100%;background:var(--primary-accent);color:#fff;border:none;padding:.75rem;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-add-to-cart[_ngcontent-%COMP%]:hover{background:var(--primary-accent-light)}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;margin-top:3rem}.page-nav[_ngcontent-%COMP%], .page-number[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:var(--light-text);cursor:pointer;transition:all .3s ease}.page-nav.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.page-number.active[_ngcontent-%COMP%]{background:var(--primary-accent);color:#fff;border-color:var(--primary-accent)}.page-nav[_ngcontent-%COMP%]:hover:not(.disabled), .page-number[_ngcontent-%COMP%]:hover:not(.active){background:#ffffff1a}@media (max-width: 768px){.shop-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.shop-controls[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}"]})};export{H as StoreComponent};
