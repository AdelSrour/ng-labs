import{a as y}from"./chunk-YFGTGYJ4.js";import{a as S,b as u,c as w,d as k,e as E,f,g as F,h as L,i as A,j as N,k as z}from"./chunk-VHQH35IP.js";import{a as O}from"./chunk-6MH3N5TP.js";import{d as C,j as _,k as M,n as P}from"./chunk-PF2XHHFY.js";import{$a as h,Ea as b,Ja as d,Qa as s,Sa as c,Va as e,Wa as t,Xa as m,ab as v,fb as o,hb as x,jb as g,va as a,za as p}from"./chunk-DA2OFBHU.js";var I=()=>["/forgot"],R=()=>["/register"];function T(i,n){if(i&1&&(e(0,"div",7),o(1),t()),i&2){let l=v();a(),x(" ",l.errorMessage," ")}}function D(i,n){i&1&&(e(0,"div",14),o(1,"Please enter a valid Email"),t())}function G(i,n){i&1&&(e(0,"div",20),o(1,"Please enter a password"),t())}function V(i,n){i&1&&(m(0,"span",29),e(1,"span",30),o(2," Logging..."),t())}function Z(i,n){i&1&&(m(0,"i",31),o(1," Login"))}var j=class i{constructor(n,l,r){this.api=n;this.route=l;this.auth=r}loginForm=new E({email:new f("",[u.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/),u.required]),password:new f("",u.required)});email=this.loginForm.controls.email;password=this.loginForm.controls.password;errorMessage="";submitting=!1;login(){this.submitting=!0,this.errorMessage="",!this.loginForm.invalid&&this.api.signIn(this.email.value,this.password.value).subscribe({next:n=>{n.message=="success"?(localStorage.setItem("user",n.user.email),this.auth.email=n.user.email,this.route.navigate(["/"])):this.errorMessage=n.message},error:n=>{this.errorMessage=n.error.message,this.submitting=!1}})}static \u0275fac=function(l){return new(l||i)(p(O),p(_),p(y))};static \u0275cmp=b({type:i,selectors:[["app-login"]],decls:42,vars:10,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"fas","fa-user-circle","auth-icon"],[1,"auth-title"],[1,"auth-subtitle"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"text-danger","m-3","text-center","bg-dark","p-2","rounded"],[1,"form-group"],["for","email"],[1,"input-group"],[1,"input-icon"],[1,"fas","fa-envelope"],["type","email","id","email","placeholder","your@email.com","formControlName","email",1,"form-control"],[1,"text-danger"],["for","password"],[1,"fas","fa-lock"],["type","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password",1,"form-control"],["type","button",1,"btn-password-toggle"],[1,"fas","fa-eye"],[1,"text-danger","mb-2"],[1,"forgot-link",3,"routerLink"],[1,"form-footer"],[1,"form-check"],["type","checkbox","id","remember",1,"form-check-input"],["for","remember"],["type","submit",1,"btn-auth-submit",3,"disabled"],[1,"auth-footer"],[3,"routerLink"],["aria-hidden","true",1,"spinner-border","spinner-border-sm"],["role","status"],[1,"fas","fa-sign-in-alt"]],template:function(l,r){l&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),m(3,"i",3),e(4,"h2",4),o(5,"Welcome Back"),t(),e(6,"p",5),o(7,"Please enter your credentials to login"),t()(),e(8,"form",6),h("ngSubmit",function(){return r.login()}),d(9,T,2,1,"div",7),e(10,"div",8)(11,"label",9),o(12,"Email Address"),t(),e(13,"div",10)(14,"span",11),m(15,"i",12),t(),m(16,"input",13),t(),d(17,D,2,0,"div",14),t(),e(18,"div",8)(19,"label",15),o(20,"Password"),t(),e(21,"div",10)(22,"span",11),m(23,"i",16),t(),m(24,"input",17),e(25,"button",18),m(26,"i",19),t()(),d(27,G,2,0,"div",20),e(28,"a",21),o(29,"Forgot password?"),t()(),e(30,"div",22)(31,"div",23),m(32,"input",24),e(33,"label",25),o(34,"Remember me"),t()(),e(35,"button",26),d(36,V,3,0)(37,Z,2,0),t()()(),e(38,"div",27),o(39," Don't have an account? "),e(40,"a",28),o(41,"Sign up"),t()()()()),l&2&&(a(8),s("formGroup",r.loginForm),a(),c(r.errorMessage?9:-1),a(8),c(r.email.invalid&&(r.email.dirty||r.email.touched)?17:-1),a(10),c(r.password.invalid&&(r.password.dirty||r.password.touched)?27:-1),a(),s("routerLink",g(8,I)),a(7),s("disabled",r.loginForm.invalid||r.submitting),a(),c(r.submitting?36:37),a(4),s("routerLink",g(9,R)))},dependencies:[P,M,N,F,S,w,k,z,L,A,C],styles:['.auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:70vh;padding:2rem}.auth-card[_ngcontent-%COMP%]{background:var(--darker-bg);border-radius:12px;box-shadow:0 4px 20px #00000040;width:100%;max-width:480px;overflow:hidden}.auth-header[_ngcontent-%COMP%]{text-align:center;padding:2rem 2rem 1rem}.auth-icon[_ngcontent-%COMP%]{font-size:3rem;color:var(--primary-accent);margin-bottom:1rem}.auth-title[_ngcontent-%COMP%]{color:var(--lighter-text);margin-bottom:.5rem}.auth-subtitle[_ngcontent-%COMP%]{color:var(--muted-text);margin-bottom:0}.auth-form[_ngcontent-%COMP%]{padding:0 2rem 1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--muted-text);margin-bottom:.5rem}.input-group[_ngcontent-%COMP%]{display:flex;margin-bottom:.25rem}.input-icon[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-right:none;border-radius:8px 0 0 8px;color:var(--muted-text);padding:.75rem 1rem;display:flex;align-items:center}.form-control[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#fff;padding:.75rem;flex:1;border-radius:0 8px 8px 0}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-accent);box-shadow:0 0 0 3px #6c5ce740}.btn-password-toggle[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-left:none;border-radius:0 8px 8px 0;color:var(--muted-text);padding:0 1rem;cursor:pointer}.form-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:2rem 0}.form-check[_ngcontent-%COMP%]{display:flex;align-items:center}.form-check-input[_ngcontent-%COMP%]{margin-right:.5rem}.forgot-link[_ngcontent-%COMP%]{color:var(--primary-accent);font-size:.875rem;text-decoration:none}.btn-auth-submit[_ngcontent-%COMP%]{background:var(--primary-accent);color:#fff;border:none;border-radius:8px;padding:.75rem 1.5rem;cursor:pointer;transition:opacity .2s}.btn-auth-submit[_ngcontent-%COMP%]:hover{opacity:.9}.auth-divider[_ngcontent-%COMP%]{position:relative;margin:2rem 0;text-align:center}.auth-divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#ffffff1a;z-index:1}.auth-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;background:var(--darker-bg);padding:0 1rem;color:var(--muted-text);z-index:2;font-size:.875rem}.social-auth[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.social-auth[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--muted-text);margin-bottom:1rem}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem}.social-btn[_ngcontent-%COMP%]{background:#ffffff0d;color:var(--muted-text);width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;text-decoration:none;transition:all .2s}.social-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.auth-footer[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;border-top:1px solid rgba(255,255,255,.05);color:var(--muted-text);font-size:.875rem}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-accent);text-decoration:none}.btn-auth-submit[_ngcontent-%COMP%]:disabled{cursor:not-allowed}']})};export{j as LoginComponent};
